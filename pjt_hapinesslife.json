{"$schema": "https://vega.github.io/schema/vega-lite/v4.json",
  "description": "Life expectancy data extracted from the World Bank into Excel where the data was sorted and arranged. The World Happiness report has provided the yearly data for happiness",
           "title": {
          "text": "Life expectancy and happiness",
          "subtitle":["Source: World Bank, World Happiness Report","Happiness index"],
          "subtitleFontStyle":"italic",
          "subtitleFontSize":10,
          "anchor": "start",
          "color": "black"},  
  "data": {
    "url": "https://raw.githubusercontent.com/MatthieuMichaux/MatthieuMichaux.github.io/main/pjt_happiestlife.csv",
    "format": {"type": "csv"}
  },

   "config": {
        "background":"#fff1e0",
        "view": {"stroke": "transparent"}},

    
        "height": 220,
        "width": 250,
  
    "mark": "point",
    "selection": {
      "Continent": {
        "type": "single",
        "fields": ["Continent"],
        "bind": {
          "input": "select",
          "options": [
            null,
               "Africa", "Asia", "America", "Europe", "Oceania"
          ],
          "name": "Continent"
        }
      }
    },
    "transform": [
      {"filter": {"selection": "Continent"}}
    ],

  "encoding": {

      "x": {
        "field": "life expectancy2020",
        "type": "quantitative",
        "scale":{"domain":[45,90]},
        "title":"Life expectancy (2020)"
        },
     
      "y": {
        "field": "happiness2021",
        "type": "quantitative",
        "scale":{"domain":[2,8]},
        "title":""
        },

      "color": {
        
        "field": "Continent",
        "type": "nominal",
        "title":"",
        "legend": {"orient": "bottom"}
          },
    
          
      "tooltip":[{
       "field": "Country Name",
       "type": "nominal",
       "title": "Country"
       },
      {
       "field": "happiness2021",
       "type": "quantitative", 
       "title": "Happiness index"
       },
      {
       "field": "life expectancy2020",
       "type": "quantitative",
       "title": "Life expectancy",
       "format": ".2f"
      }]
    }
}
